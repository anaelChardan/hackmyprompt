"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.createXAIProvider = createXAIProvider;
const invariant_1 = __importDefault(require("../util/invariant"));
const chat_1 = require("./openai/chat");
function createXAIProvider(providerPath, options = {}) {
    const splits = providerPath.split(':');
    const xaiConfig = {
        ...options,
        config: {
            apiBaseUrl: options.config?.region
                ? `https://${options.config.region}.api.x.ai/v1`
                : 'https://api.x.ai/v1',
            apiKeyEnvar: 'XAI_API_KEY',
            ...options.config,
        },
    };
    const modelName = splits.slice(1).join(':');
    (0, invariant_1.default)(modelName, 'Model name is required');
    return new chat_1.OpenAiChatCompletionProvider(modelName, xaiConfig);
}
//# sourceMappingURL=xai.js.map